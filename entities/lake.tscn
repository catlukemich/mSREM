[gd_scene load_steps=10 format=3 uid="uid://dg2hgye6belxm"]

[ext_resource type="Script" path="res://scripts/lake.gd" id="1_kuek0"]
[ext_resource type="Shader" path="res://entities/lake.gdshader" id="2_dcdxu"]
[ext_resource type="PackedScene" uid="uid://cid2vmo6erdow" path="res://tools/curve_based_polygon.tscn" id="2_eac80"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_usr2o"]
noise_type = 0
frequency = 0.0363
offset = Vector3(63.16, 0, 0)
metadata/_preview_in_3d_space_ = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_bbk07"]
seamless = true
seamless_blend_skirt = 0.18
noise = SubResource("FastNoiseLite_usr2o")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pfc75"]
shader = ExtResource("2_dcdxu")
shader_parameter/wind_dir = Vector2(-0.455, 0.445)
shader_parameter/wind_speed = 2.235
shader_parameter/tile_scale = 16.3
shader_parameter/WATER_COL = Color(0, 0.474147, 0.696166, 1)
shader_parameter/WATER2_COL = Color(0.1917, 0.580425, 0.71, 1)
shader_parameter/FOAM_COL = Color(0.28, 0.556, 1, 1)
shader_parameter/distortion_speed = 6.0
shader_parameter/tile = Vector2(4, 16)
shader_parameter/offset = Vector2(0.625, 0)
shader_parameter/noise_texture = SubResource("NoiseTexture2D_bbk07")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_8wwsx"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_sc5gq"]
height = 907
seamless = true
noise = SubResource("FastNoiseLite_8wwsx")

[sub_resource type="Curve2D" id="Curve2D_gatby"]
_data = {
"points": PackedVector2Array(-128.195, -8.47571, 128.195, 8.47571, -37, 38, -107.878, 1.49831, 107.878, -1.49831, 242, 74, -77.3408, -62.5083, 77.3408, 62.5083, 522, 20, 4.23785, -80.5192, -4.23785, 80.5192, 237, 267, 48.9994, -24.9452, -48.9994, 24.9452, 136, 326, 40.9813, 57.0175, -40.9813, -57.0175, -52, 329, 80.5192, 6.35679, -80.5192, -6.35679, -5, 178, 63.5829, 43.5157, -63.5829, -43.5157, -304, 250, -132.433, 9.53517, 132.433, -9.53517, -60, 38)
}
point_count = 9

[node name="Lake" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_kuek0")

[node name="LakeWater" parent="." node_paths=PackedStringArray("input_path") instance=ExtResource("2_eac80")]
modulate = Color(0, 0, 0, 1)
y_sort_enabled = true
texture_repeat = 2
material = SubResource("ShaderMaterial_pfc75")
position = Vector2(-71.9999, -143)
texture = SubResource("NoiseTexture2D_sc5gq")
texture_scale = Vector2(0.235, 0.235)
polygon = PackedVector2Array(-37, 38, -34.011, 38.2024, -31.0527, 38.4122, -28.1249, 38.6292, -25.2269, 38.8532, -22.3585, 39.0843, -19.5192, 39.3221, -16.7085, 39.5665, -13.926, 39.8175, -11.1713, 40.0748, -8.44397, 40.3384, -5.74356, 40.608, -3.06966, 40.8835, -0.421817, 41.1648, 2.20039, 41.4517, 4.79738, 41.7441, 7.36959, 42.0418, 9.91745, 42.3447, 12.4414, 42.6526, 14.9418, 42.9655, 17.4192, 43.2831, 22.3066, 43.9319, 27.1068, 44.598, 31.8234, 45.2802, 36.4598, 45.9772, 41.0194, 46.688, 45.5057, 47.4114, 49.9221, 48.1461, 54.272, 48.8911, 58.5589, 49.6452, 62.7863, 50.4071, 66.9575, 51.1758, 71.076, 51.95, 75.1452, 52.7286, 79.1687, 53.5104, 83.1497, 54.2942, 87.0918, 55.0789, 90.9983, 55.8634, 94.8728, 56.6463, 98.7187, 57.4267, 102.539, 58.2032, 106.338, 58.9748, 110.119, 59.7403, 113.885, 60.4984, 117.639, 61.2481, 121.385, 61.9881, 125.127, 62.7173, 128.867, 63.4345, 132.61, 64.1386, 136.359, 64.8283, 140.117, 65.5026, 143.887, 66.1602, 147.674, 66.8, 151.48, 67.4208, 155.309, 68.0215, 159.164, 68.6008, 163.049, 69.1576, 166.968, 69.6907, 170.923, 70.199, 174.918, 70.6813, 178.957, 71.1364, 183.042, 71.5632, 187.179, 71.9604, 191.369, 72.327, 195.616, 72.6617, 199.925, 72.9634, 204.297, 73.2309, 208.737, 73.4631, 213.248, 73.6587, 217.834, 73.8167, 222.497, 73.9357, 227.242, 74.0148, 232.072, 74.0526, 236.99, 74.0481, 239.483, 74.0295, 242, 74, 244.526, 73.9442, 247.047, 73.8477, 249.564, 73.7113, 252.075, 73.5359, 254.582, 73.3221, 257.084, 73.071, 259.581, 72.7833, 262.073, 72.4599, 264.56, 72.1016, 267.042, 71.7091, 269.519, 71.2835, 271.992, 70.8254, 274.459, 70.3358, 276.922, 69.8154, 279.379, 69.2651, 281.832, 68.6857, 284.279, 68.0781, 286.722, 67.443, 289.16, 66.7814, 291.592, 66.094, 294.019, 65.3817, 296.442, 64.6453, 298.859, 63.8857, 301.271, 63.1037, 303.679, 62.3, 306.081, 61.4757, 308.478, 60.6314, 310.869, 59.768, 313.256, 58.8863, 315.638, 57.9873, 318.014, 57.0716, 320.385, 56.1402, 322.751, 55.1938, 325.112, 54.2334, 327.467, 53.2597, 329.818, 52.2736, 332.163, 51.2759, 334.502, 50.2674, 336.837, 49.249, 339.166, 48.2215, 341.49, 47.1857, 343.809, 46.1425, 346.122, 45.0927, 348.43, 44.0372, 350.733, 42.9767, 353.03, 41.9121, 355.322, 40.8442, 357.609, 39.7739, 359.89, 38.702, 362.165, 37.6294, 364.436, 36.5568, 366.701, 35.4851, 371.214, 33.3477, 375.706, 31.2239, 380.175, 29.1203, 384.623, 27.0436, 389.048, 25.0004, 393.451, 22.9975, 397.832, 21.0415, 402.191, 19.139, 406.526, 17.2967, 410.839, 15.5213, 415.13, 13.8194, 419.397, 12.1976, 423.642, 10.6628, 427.863, 9.22141, 432.061, 7.88021, 436.236, 6.64585, 440.388, 5.52497, 444.516, 4.52425, 448.621, 3.65034, 452.702, 2.90991, 456.759, 2.30961, 460.792, 1.85611, 464.802, 1.55607, 468.787, 1.41615, 472.748, 1.443, 476.685, 1.6433, 480.598, 2.0237, 484.486, 2.59087, 488.349, 3.35146, 492.188, 4.31214, 496.002, 5.47956, 499.792, 6.8604, 503.556, 8.4613, 507.295, 10.2889, 511.009, 12.35, 514.698, 14.651, 518.362, 17.1988, 522, 20, 525.309, 22.9602, 527.999, 25.9796, 530.087, 29.0569, 531.591, 32.1904, 532.53, 35.3787, 532.921, 38.6203, 532.783, 41.9137, 532.133, 45.2575, 530.99, 48.6501, 529.372, 52.0901, 527.296, 55.5759, 524.781, 59.1062, 521.846, 62.6793, 518.507, 66.2939, 516.692, 68.1163, 514.783, 69.9485, 512.783, 71.7902, 510.693, 73.6414, 508.516, 75.5019, 506.254, 77.3714, 503.909, 79.2497, 501.483, 81.1368, 498.98, 83.0323, 496.401, 84.9362, 493.748, 86.8482, 491.023, 88.7681, 488.23, 90.6958, 485.369, 92.6311, 482.445, 94.5737, 479.457, 96.5235, 476.41, 98.4804, 473.304, 100.444, 470.144, 102.414, 466.929, 104.391, 463.664, 106.374, 460.35, 108.363, 456.989, 110.358, 453.584, 112.359, 450.137, 114.365, 446.651, 116.377, 443.126, 118.394, 439.567, 120.415, 435.974, 122.442, 432.351, 124.473, 428.699, 126.509, 425.021, 128.548, 421.319, 130.592, 417.595, 132.64, 413.852, 134.691, 410.092, 136.746, 406.317, 138.804, 402.529, 140.865, 398.73, 142.929, 394.924, 144.996, 391.111, 147.066, 387.295, 149.137, 383.478, 151.211, 379.661, 153.287, 375.848, 155.365, 372.04, 157.445, 368.239, 159.526, 364.449, 161.608, 360.67, 163.691, 356.906, 165.775, 353.159, 167.86, 349.431, 169.945, 345.724, 172.031, 342.04, 174.116, 338.382, 176.202, 334.752, 178.287, 331.152, 180.372, 327.585, 182.457, 324.052, 184.541, 320.557, 186.623, 317.1, 188.705, 313.685, 190.785, 310.315, 192.864, 306.99, 194.941, 303.713, 197.016, 300.487, 199.089, 297.313, 201.159, 294.195, 203.227, 291.134, 205.293, 288.133, 207.356, 285.193, 209.415, 282.318, 211.472, 279.509, 213.525, 276.768, 215.575, 274.099, 217.62, 271.503, 219.662, 268.982, 221.7, 266.538, 223.733, 264.175, 225.762, 261.893, 227.786, 259.697, 229.806, 257.586, 231.82, 255.565, 233.829, 253.635, 235.833, 251.798, 237.831, 250.058, 239.823, 248.415, 241.809, 246.872, 243.789, 244.096, 247.73, 241.749, 251.644, 239.847, 255.529, 238.41, 259.385, 237.455, 263.209, 237, 267, 236.77, 270.682, 236.476, 274.183, 236.121, 277.506, 235.706, 280.658, 235.23, 283.641, 234.695, 286.461, 234.103, 289.123, 233.453, 291.63, 231.987, 296.2, 230.304, 300.207, 228.413, 303.688, 226.321, 306.68, 224.036, 309.218, 221.566, 311.339, 218.918, 313.079, 216.1, 314.475, 213.12, 315.563, 209.986, 316.379, 206.705, 316.959, 203.286, 317.34, 199.735, 317.559, 196.06, 317.651, 192.27, 317.652, 188.373, 317.6, 184.375, 317.531, 180.284, 317.48, 176.109, 317.485, 171.857, 317.581, 167.536, 317.804, 163.153, 318.192, 158.717, 318.78, 154.234, 319.605, 149.714, 320.704, 145.163, 322.111, 140.589, 323.865, 138.296, 324.882, 136, 326, 133.668, 327.176, 131.266, 328.365, 128.797, 329.564, 126.264, 330.771, 123.669, 331.983, 121.014, 333.199, 118.302, 334.415, 115.535, 335.63, 112.715, 336.84, 109.846, 338.045, 106.929, 339.241, 103.967, 340.426, 100.962, 341.598, 97.9173, 342.754, 94.8345, 343.892, 91.7164, 345.011, 88.5653, 346.106, 85.3836, 347.177, 82.1738, 348.22, 78.9384, 349.234, 75.6797, 350.215, 72.4001, 351.163, 69.1022, 352.074, 65.7883, 352.945, 62.4608, 353.776, 59.1223, 354.563, 55.775, 355.304, 52.4215, 355.996, 49.0641, 356.638, 45.7053, 357.227, 42.3475, 357.76, 38.9932, 358.236, 35.6448, 358.652, 32.3046, 359.005, 28.9752, 359.294, 25.6589, 359.515, 22.3582, 359.668, 19.0756, 359.748, 15.8133, 359.755, 12.574, 359.685, 9.35989, 359.536, 6.17354, 359.306, 3.01733, 358.993, -0.106312, 358.594, -3.19494, 358.107, -6.24615, 357.529, -9.25749, 356.859, -12.2266, 356.093, -15.1509, 355.23, -18.0281, 354.268, -20.8558, 353.203, -23.6314, 352.034, -26.3526, 350.757, -29.017, 349.372, -31.6221, 347.875, -34.1655, 346.264, -36.6448, 344.538, -39.0575, 342.692, -41.4012, 340.726, -43.6735, 338.637, -45.8719, 336.422, -47.9941, 334.079, -50.0376, 331.606, -52, 329, -53.7693, 326.305, -55.2423, 323.568, -56.4294, 320.792, -57.3411, 317.978, -57.9879, 315.129, -58.3803, 312.249, -58.5289, 309.339, -58.444, 306.402, -58.1363, 303.441, -57.6161, 300.458, -56.894, 297.456, -55.9805, 294.437, -54.8861, 291.404, -53.6213, 288.359, -52.1965, 285.306, -50.6222, 282.246, -48.909, 279.182, -47.0674, 276.117, -45.1078, 273.053, -43.0407, 269.993, -40.8767, 266.939, -38.6261, 263.895, -36.2996, 260.861, -33.9076, 257.842, -31.4606, 254.84, -28.9691, 251.856, -26.4436, 248.895, -23.8946, 245.957, -21.3326, 243.047, -18.768, 240.166, -16.2114, 237.317, -13.6733, 234.502, -11.1641, 231.725, -8.6944, 228.987, -6.27464, 226.292, -3.91531, 223.641, -1.62691, 221.037, 0.580048, 218.484, 2.69508, 215.983, 4.7077, 213.537, 6.60741, 211.149, 8.38371, 208.82, 10.0261, 206.555, 11.5241, 204.355, 14.045, 200.16, 15.8623, 196.257, 16.8922, 192.667, 17.0506, 189.41, 16.2537, 186.505, 14.4174, 183.975, 11.4579, 181.839, 7.29109, 180.117, 4.72875, 179.418, 1.83312, 178.831, -1.4063, 178.357, -5, 178, -8.82818, 177.795, -12.7615, 177.771, -16.7962, 177.921, -20.9285, 178.239, -25.1546, 178.718, -29.4707, 179.351, -33.8729, 180.132, -38.3576, 181.053, -42.9209, 182.109, -47.559, 183.292, -52.2681, 184.596, -57.0445, 186.013, -59.4567, 186.762, -61.8843, 187.538, -64.3268, 188.338, -66.7837, 189.163, -69.2546, 190.011, -71.7391, 190.882, -74.2365, 191.774, -76.7464, 192.688, -79.2685, 193.621, -81.8021, 194.574, -84.3469, 195.545, -86.9023, 196.534, -89.4678, 197.539, -92.0431, 198.56, -94.6276, 199.597, -97.2208, 200.647, -99.8223, 201.711, -102.432, 202.787, -105.048, 203.876, -107.672, 204.974, -110.302, 206.083, -112.937, 207.201, -115.579, 208.328, -118.225, 209.462, -120.876, 210.602, -123.53, 211.748, -126.188, 212.9, -128.85, 214.055, -131.514, 215.214, -134.179, 216.375, -136.847, 217.537, -139.516, 218.701, -142.185, 219.864, -144.855, 221.027, -147.524, 222.187, -150.193, 223.345, -152.861, 224.5, -155.526, 225.65, -158.19, 226.795, -160.851, 227.935, -163.509, 229.067, -166.163, 230.192, -168.814, 231.308, -171.459, 232.415, -174.1, 233.512, -176.736, 234.598, -179.365, 235.672, -181.988, 236.733, -184.604, 237.781, -187.213, 238.814, -189.813, 239.832, -192.406, 240.834, -194.99, 241.82, -197.564, 242.787, -200.129, 243.736, -202.683, 244.666, -205.227, 245.575, -207.76, 246.463, -210.281, 247.33, -212.79, 248.173, -215.286, 248.993, -217.77, 249.789, -220.239, 250.559, -222.695, 251.303, -225.136, 252.02, -227.563, 252.709, -232.369, 254.001, -237.109, 255.172, -241.78, 256.214, -246.378, 257.122, -250.899, 257.888, -255.34, 258.507, -259.696, 258.97, -263.964, 259.271, -268.139, 259.405, -272.219, 259.363, -276.2, 259.139, -280.076, 258.727, -283.846, 258.12, -287.505, 257.311, -291.049, 256.293, -294.474, 255.059, -297.777, 253.604, -300.953, 251.92, -304, 250, -306.807, 247.877, -309.27, 245.59, -311.397, 243.147, -313.193, 240.553, -314.665, 237.814, -315.82, 234.936, -316.664, 231.925, -317.203, 228.788, -317.444, 225.53, -317.393, 222.158, -317.057, 218.677, -316.442, 215.094, -315.554, 211.414, -314.401, 207.644, -312.988, 203.79, -311.322, 199.858, -309.41, 195.853, -307.257, 191.783, -304.871, 187.652, -302.257, 183.468, -300.867, 181.358, -299.422, 179.236, -297.924, 177.104, -296.373, 174.962, -294.77, 172.811, -293.116, 170.652, -291.412, 168.486, -289.657, 166.313, -287.855, 164.134, -286.004, 161.95, -284.106, 159.762, -282.161, 157.569, -280.171, 155.374, -278.137, 153.177, -276.058, 150.979, -273.936, 148.78, -271.772, 146.581, -269.567, 144.383, -267.32, 142.187, -265.034, 139.993, -262.709, 137.802, -260.345, 135.616, -257.944, 133.434, -255.506, 131.257, -253.032, 129.087, -250.523, 126.924, -247.98, 124.768, -245.404, 122.621, -242.794, 120.483, -240.153, 118.355, -237.481, 116.238, -234.778, 114.133, -232.047, 112.04, -229.286, 109.959, -226.498, 107.893, -223.682, 105.841, -220.841, 103.805, -217.973, 101.784, -215.082, 99.7806, -212.166, 97.7945, -209.228, 95.8268, -206.267, 93.8782, -203.285, 91.9495, -200.282, 90.0414, -197.26, 88.1547, -194.218, 86.2901, -191.159, 84.4484, -188.081, 82.6303, -184.988, 80.8367, -181.879, 79.0682, -178.754, 77.3257, -175.616, 75.6098, -172.464, 73.9214, -169.3, 72.2611, -166.124, 70.6298, -162.937, 69.0283, -159.739, 67.4572, -156.533, 65.9173, -153.318, 64.4094, -150.095, 62.9342, -146.866, 61.4926, -143.63, 60.0852, -140.389, 58.7128, -137.144, 57.3762, -133.894, 56.0761, -130.642, 54.8134, -127.388, 53.5886, -124.133, 52.4027, -120.877, 51.2563, -117.622, 50.1503, -114.367, 49.0853, -111.115, 48.0622, -107.865, 47.0816, -104.619, 46.1445, -101.378, 45.2514, -98.1412, 44.4032, -94.9107, 43.6006, -91.687, 42.8444, -88.4708, 42.1353, -85.2631, 41.4741, -82.0645, 40.8616, -78.876, 40.2985, -75.6983, 39.7856, -72.5322, 39.3236, -69.3785, 38.9133, -66.238, 38.5554, -63.1116, 38.2507, -60, 38)
input_path = NodePath("Path2D")

[node name="Path2D" type="Path2D" parent="LakeWater"]
y_sort_enabled = true
curve = SubResource("Curve2D_gatby")
